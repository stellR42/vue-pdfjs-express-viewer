/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{324:function(Ca,va,aa){aa.r(va);aa.d(va,"ByteRangeRequest",function(){return h});var pa=aa(2),ja=aa(0);aa.n(ja);var la=aa(1),fa=aa(116);Ca=aa(70);var ca=aa(188),z=aa(56),w=aa(52),r=aa(187),b=aa(126);aa=aa(283);var a=[],e=[],f=window,x=function(){return function(){this.Aj=1}}(),n;(function(ba){ba[ba.UNSENT=0]="UNSENT";ba[ba.DONE=4]="DONE"})(n||(n={}));var h=function(){function ba(ka,ha,ia,ea){var oa=this;this.url=ka;this.range=
ha;this.ie=ia;this.withCredentials=ea;this.uS=n;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);f.Uint8Array&&(this.request.responseType="arraybuffer");ea&&(this.request.withCredentials=ea);y.DISABLE_RANGE_HEADER||(Object(ja.isUndefined)(ha.stop)?this.request.setRequestHeader("Range","bytes="+ha.start):this.request.setRequestHeader("Range",["bytes=",ha.start,"-",ha.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");ia&&Object.keys(ia).forEach(function(sa){oa.request.setRequestHeader(sa,
ia[sa])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=r.a.NOT_STARTED}ba.prototype.start=function(ka){var ha=this,ia=this.request;ia.onreadystatechange=function(){if(ha.aborted)return ha.status=r.a.ABORTED,ka({code:r.a.ABORTED});if(this.readyState===ha.uS.DONE){ha.Xw();var ea=0===window.document.URL.indexOf("file:///");200===ia.status||206===ia.status||ea&&0===ia.status?
(ea=f.NK(this),ha.kF(ea,ka)):(ha.status=r.a.ERROR,ka({code:ha.status,status:ha.status}))}};this.request.send(null);this.status=r.a.STARTED};ba.prototype.kF=function(ka,ha){this.status=r.a.SUCCESS;if(ha)return ha(!1,ka)};ba.prototype.abort=function(){this.Xw();this.aborted=!0;this.request.abort()};ba.prototype.Xw=function(){var ka=Object(b.c)(this.url,this.range,e);-1!==ka&&e.splice(ka,1);if(0<a.length){ka=a.shift();var ha=new ba(ka.url,ka.range,this.ie,this.withCredentials);ka.request=ha;e.push(ka);
ha.start(Object(b.d)(ka))}};ba.prototype.extend=function(ka){var ha=Object.assign({},this,ka.prototype);ha.constructor=ka;return ha};return ba}(),y=function(ba){function ka(ha,ia,ea,oa,sa){ea=ba.call(this,ha,ea,oa)||this;ea.Cj={};ea.Hv=ia;ea.url=ha;ea.DISABLE_RANGE_HEADER=!1;ea.Vs=h;ea.$F=3;ea.ie=sa||{};return ea}Object(pa.c)(ka,ba);ka.prototype.dr=function(ha,ia,ea){var oa=-1===ha.indexOf("?")?"?":"&";switch(ea){case !1:case w.a.NEVER_CACHE:ha=ha+oa+"_="+Object(ja.uniqueId)();break;case !0:case w.a.CACHE:ha=
ha+oa+"_="+ia.start+","+(Object(ja.isUndefined)(ia.stop)?"":ia.stop)}return ha};ka.prototype.iJ=function(ha,ia,ea,oa){void 0===ea&&(ea={});return new this.Vs(ha,ia,ea,oa)};ka.prototype.kY=function(ha,ia,ea,oa,sa){for(var na=0;na<a.length;na++)if(Object(ja.isEqual)(a[na].range,ia)&&Object(ja.isEqual)(a[na].url,ha))return a[na].sf.push(oa),a[na].Qx++,null;for(na=0;na<e.length;na++)if(Object(ja.isEqual)(e[na].range,ia)&&Object(ja.isEqual)(e[na].url,ha))return e[na].sf.push(oa),e[na].Qx++,null;ea={url:ha,
range:ia,Hv:ea,sf:[oa],Qx:1};if(0===a.length&&e.length<this.$F)return e.push(ea),ea.request=this.iJ(ha,ia,sa,this.withCredentials),ea;a.push(ea);return null};ka.prototype.Ok=function(ha,ia,ea){var oa=this.dr(ha,ia,this.Hv);(ha=this.kY(oa,ia,this.Hv,ea,this.ie))&&ha.request.start(Object(b.d)(ha));return function(){var sa=Object(b.c)(oa,ia,e);if(-1!==sa){var na=--e[sa].Qx;0===na&&e[sa].request&&e[sa].request.abort()}else sa=Object(b.c)(oa,ia,a),-1!==sa&&(na=--a[sa].Qx,0===na&&a.splice(sa,1))}};ka.prototype.vK=
function(){return{start:-fa.a}};ka.prototype.W_=function(){var ha=-(fa.a+fa.e);return{start:ha-fa.d,end:ha}};ka.prototype.ip=function(ha){var ia=this;this.Nv=!0;var ea=fa.a;this.Ok(this.url,this.vK(),function(oa,sa,na){function za(){var ta=ia.Wc.sK();ia.Ok(ia.url,ta,function(ua,xa){if(ua)return Object(la.i)("Error loading central directory: "+ua),ha(ua);xa=Object(z.a)(xa);if(xa.length!==ta.stop-ta.start)return ha("Invalid XOD file: Zip central directory data is wrong size! Should be "+(ta.stop-ta.start)+
" but is "+xa.length);ia.Wc.CN(xa);ia.YA=!0;ia.Nv=!1;return ha(!1)})}if(oa)return Object(la.i)("Error loading end header: "+oa),ha(oa,sa,na);sa=Object(z.a)(sa);if(sa.length!==ea)return ha("Invalid XOD file: Zip end header data is wrong size!");try{ia.Wc=new ca.a(sa)}catch(ta){return ha(ta)}ia.Wc.r1?ia.Ok(ia.url,ia.W_(),function(ta,ua){if(ta)return Object(la.i)("Error loading zip64 header: "+ta),ha(ta);ua=Object(z.a)(ua);ia.Wc.J1(ua);za()}):za()})};ka.prototype.LK=function(ha){ha(Object.keys(this.Wc.sk))};
ka.prototype.dE=function(ha,ia){var ea=this;if(this.Wc.cJ(ha)){var oa=this.Wc.Nw(ha);if(oa in this.Cj){var sa=this.mg[ha];sa.io=this.Cj[oa];sa.io.Aj++;sa.cancel=sa.io.cancel}else{var na=this.Wc.yZ(ha),za=this.Ok(this.url,na,function(ua,xa){ua?(Object(la.i)('Error loading part "'+ha+'": '+ua),ea.Ok(ea.url,na,function(qa,ya){if(qa)return ia(qa,ha);ea.GN(ya,na,oa,ha,ia)})):ea.GN(xa,na,oa,ha,ia)}),ta=this.mg[ha];ta&&(ta.FP=!0,ta.cancel=function(){ta.io.Aj--;0===ta.io.Aj&&(za(),delete ea.Cj[oa])},this.Cj[oa]=
new x(oa),ta.io=this.Cj[oa],ta.io.cancel=ta.cancel)}}else delete this.mg[ha],ia(Error('File not found: "'+ha+'"'),ha)};ka.prototype.GN=function(ha,ia,ea,oa,sa){if(ha.length!==ia.stop-ia.start)sa(Error("Part data is wrong size!"),oa);else{do{if(!this.Cj[ea])return;oa=this.Cj[ea].Aj;for(var na=ia.gn.length,za=0;za<na;++za){var ta=ia.gn[za];sa(!1,ta.cn,ha["string"===typeof ha?"substring":"subarray"](ta.start,ta.stop),this.Wc.EL(ta.cn));ta.cn in this.mg&&delete this.mg[ta.cn]}}while(oa!==this.Cj[ea].Aj);
delete this.Cj[ea]}};ka.DISABLE_RANGE_HEADER=!1;ka.$F=3;return ka}(Ca.a);(function(ba){function ka(ha,ia,ea){var oa=ba.call(this)||this,sa;for(sa in ha)oa[sa]=ha[sa];oa.Eca=ha;oa.startOffset=ia;oa.endOffset=ea;oa.iJ=function(na,za,ta,ua){Object(ja.isUndefined)(za.stop)?(za.start+=oa.endOffset,za.stop=oa.endOffset):(za.start+=oa.startOffset,za.stop+=oa.startOffset);na=oa.dr(oa.url,za,oa.Hv);return new ha.Vs(na,za,ta,ua)};return oa}Object(pa.c)(ka,ba);return ka})(y);Object(aa.a)(y);Object(aa.b)(y);
va["default"]=y}}]);}).call(this || window)
